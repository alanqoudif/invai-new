# مكتبة الملفات المحسنة مع إعدادات الخصوصية 📚

## نظرة عامة

توفر منصة INVAI نظام مكتبة ملفات متقدم مع إعدادات خصوصية شاملة، مما يتيح للمستخدمين إدارة وثائقهم بطريقة آمنة ومنظمة. يدعم النظام أنواع ملفات متعددة مع حماية متقدمة على مستوى API.

## 🌟 الميزات الرئيسية

### 🔒 إعدادات الخصوصية المتقدمة
- **ملفات عامة**: متاحة لجميع المستخدمين في المؤسسة
- **ملفات خاصة**: متاحة للمالك فقط
- **مشاركة محدودة**: إمكانية مشاركة ملفات محددة مع مستخدمين معينين
- **أذونات متدرجة**: قراءة، تحرير، حذف

### 📁 أنواع الملفات المدعومة
- **PDF**: الوثائق والتقارير
- **DOCX/DOC**: ملفات Microsoft Word
- **TXT**: الملفات النصية البسيطة
- **CSV**: البيانات المجدولة
- **XLSX/XLS**: جداول البيانات
- **MD**: ملفات Markdown
- **JSON**: ملفات البيانات المنظمة
- **XML**: ملفات البيانات المهيكلة

### 🔍 البحث والتصفية
- **البحث النصي**: البحث في محتوى الملفات
- **التصفية حسب النوع**: تصفية الملفات حسب النوع
- **التصفية حسب الخصوصية**: عرض الملفات العامة أو الخاصة
- **التصفية حسب التاريخ**: ترتيب حسب تاريخ الإنشاء أو التعديل
- **البحث المتقدم**: استخدام معايير بحث متعددة

## 🚀 كيفية الاستخدام

### رفع الملفات

1. **الوصول للمكتبة**
   - انتقل إلى **📚 المكتبة** (Library) من القائمة الرئيسية
   - أو استخدم الاختصار `Ctrl+L` (Windows/Linux) أو `Cmd+L` (macOS)

2. **رفع ملف جديد**
   ```
   انقر على زر "➕ رفع ملف" → اختر الملف → حدد إعدادات الخصوصية → انقر "رفع"
   ```

3. **إعدادات الخصوصية أثناء الرفع**
   - **🌐 عام**: متاح لجميع المستخدمين
   - **🔒 خاص**: متاح لك فقط
   - **👥 مشاركة محدودة**: اختر مستخدمين محددين

### إدارة الملفات

#### عرض تفاصيل الملف
```
انقر على اسم الملف → عرض المعلومات التفصيلية:
- اسم الملف والحجم
- نوع الملف والتشفير
- تاريخ الإنشاء والتعديل
- إعدادات الخصوصية الحالية
- عدد مرات التحميل
- المستخدمين المشاركين
```

#### تحرير إعدادات الخصوصية
```
انقر على "⚙️ إعدادات" بجانب الملف → تحرير الخصوصية:
- تغيير من خاص إلى عام أو العكس
- إضافة أو إزالة مستخدمين من المشاركة
- تحديد أذونات محددة (قراءة، تحرير، حذف)
```

#### حذف الملفات
```
انقر على "🗑️ حذف" → تأكيد الحذف
ملاحظة: يمكن للمالك فقط حذف الملفات الخاصة
```

### البحث والتصفية

#### البحث النصي
```
استخدم شريط البحث في أعلى المكتبة:
- ابحث في أسماء الملفات
- ابحث في محتوى الملفات (للملفات النصية)
- استخدم علامات الاقتباس للبحث الدقيق: "عبارة محددة"
```

#### التصفية المتقدمة
```
استخدم أزرار التصفية:
📁 نوع الملف: PDF, DOCX, TXT, CSV, XLSX, MD
🔒 الخصوصية: عام, خاص, مشارك
📅 التاريخ: الأحدث, الأقدم, مخصص
👤 المالك: ملفاتي, ملفات الآخرين, الكل
```

## 🔐 الأمان والخصوصية

### مستويات الحماية

#### 1. حماية على مستوى التطبيق
- **تشفير الملفات**: جميع الملفات مشفرة باستخدام AES-256
- **تشفير قاعدة البيانات**: معلومات الملفات محمية بالتشفير
- **جلسات آمنة**: استخدام HTTPS وجلسات مشفرة

#### 2. حماية على مستوى API
- **مصادقة المستخدم**: التحقق من هوية المستخدم لكل طلب
- **تحقق الأذونات**: فحص أذونات الوصول قبل عرض الملفات
- **تسجيل العمليات**: تتبع جميع عمليات الوصول والتعديل
- **حماية من CSRF**: حماية من هجمات Cross-Site Request Forgery

#### 3. حماية على مستوى الملف
- **تحقق نوع الملف**: فحص نوع الملف الحقيقي
- **فحص الفيروسات**: (اختياري) فحص الملفات المرفوعة
- **حدود الحجم**: تحديد حد أقصى لحجم الملفات
- **أنواع محظورة**: منع رفع أنواع ملفات خطيرة

### إعدادات الخصوصية التفصيلية

#### الملفات العامة (Public)
```
✅ يمكن لجميع المستخدمين:
- عرض الملف
- تحميل الملف
- استخدام الملف في RAG
- رؤية معلومات الملف الأساسية

❌ لا يمكن للمستخدمين الآخرين:
- تحرير الملف
- حذف الملف
- تغيير إعدادات الخصوصية
```

#### الملفات الخاصة (Private)
```
✅ يمكن للمالك فقط:
- عرض الملف
- تحميل الملف
- تحرير الملف
- حذف الملف
- تغيير إعدادات الخصوصية
- استخدام الملف في RAG

❌ المستخدمون الآخرون:
- لا يمكنهم رؤية الملف نهائياً
- لا يظهر في نتائج البحث
- لا يمكن الوصول إليه عبر API
```

#### المشاركة المحدودة (Shared)
```
✅ المستخدمون المشاركون يمكنهم:
- عرض الملف (حسب الأذونات)
- تحميل الملف (حسب الأذونات)
- استخدام الملف في RAG (حسب الأذونات)

⚙️ أذونات قابلة للتخصيص:
- قراءة فقط
- قراءة + تحميل
- قراءة + تحميل + تحرير
- جميع الأذونات (ما عدا الحذف)
```

## 🛠️ الإعدادات المتقدمة

### إعدادات المدير

#### حدود الرفع
```python
# في ملف الإعدادات
FILE_UPLOAD_LIMITS = {
    'max_file_size': 100 * 1024 * 1024,  # 100 MB
    'max_files_per_user': 1000,
    'allowed_extensions': ['.pdf', '.docx', '.txt', '.csv', '.xlsx', '.md'],
    'blocked_extensions': ['.exe', '.bat', '.sh', '.ps1']
}
```

#### إعدادات الأمان
```python
# إعدادات الحماية
SECURITY_SETTINGS = {
    'enable_virus_scan': True,
    'enable_content_scan': True,
    'log_all_access': True,
    'require_2fa_for_sensitive': True,
    'auto_delete_temp_files': True
}
```

### إعدادات المستخدم

#### تفضيلات العرض
```
⚙️ الإعدادات → 📚 المكتبة:
- عدد الملفات في الصفحة: 10, 25, 50, 100
- ترتيب افتراضي: الأحدث, الأقدم, الاسم, الحجم
- عرض المعاينة: تفعيل/إلغاء معاينة الملفات
- إشعارات المشاركة: تفعيل/إلغاء إشعارات المشاركة
```

#### إعدادات الخصوصية الافتراضية
```
⚙️ الإعدادات → 🔒 الخصوصية:
- خصوصية افتراضية للملفات الجديدة: عام/خاص
- السماح بالمشاركة التلقائية: نعم/لا
- إشعار عند مشاركة ملفاتي: نعم/لا
- حذف الملفات المؤقتة تلقائياً: نعم/لا
```

## 📊 التحليلات والإحصائيات

### إحصائيات المستخدم
```
📊 لوحة التحكم → 📚 إحصائيات المكتبة:
- إجمالي الملفات: العدد والحجم
- الملفات العامة vs الخاصة
- أكثر الملفات تحميلاً
- أنواع الملفات الأكثر استخداماً
- نشاط الرفع الشهري
```

### إحصائيات المدير
```
👨‍💼 لوحة المدير → 📈 تحليلات المكتبة:
- إجمالي الملفات في النظام
- استخدام التخزين
- أكثر المستخدمين نشاطاً
- الملفات الأكثر مشاركة
- إحصائيات الأمان والوصول
```

## 🔧 استكشاف الأخطاء وحلها

### مشاكل الرفع الشائعة

#### خطأ: "حجم الملف كبير جداً"
```
الحل:
1. تحقق من حد الحجم المسموح (افتراضياً 100 MB)
2. ضغط الملف إذا أمكن
3. تقسيم الملفات الكبيرة
4. التواصل مع المدير لزيادة الحد
```

#### خطأ: "نوع الملف غير مدعوم"
```
الحل:
1. تحقق من قائمة الأنواع المدعومة
2. تحويل الملف لنوع مدعوم
3. التواصل مع المدير لإضافة النوع
```

#### خطأ: "فشل في المعالجة"
```
الحل:
1. تحقق من سلامة الملف
2. إعادة المحاولة بعد قليل
3. تحقق من اتصال الإنترنت
4. التواصل مع الدعم الفني
```

### مشاكل الوصول والأذونات

#### "لا يمكن الوصول للملف"
```
الأسباب المحتملة:
1. الملف خاص ولست المالك
2. تم إلغاء مشاركة الملف معك
3. تم حذف الملف
4. مشكلة في الأذونات

الحلول:
1. تحقق من إعدادات الخصوصية
2. التواصل مع مالك الملف
3. التحقق من سجل النشاط
```

#### "لا يمكن تحرير الملف"
```
الأسباب المحتملة:
1. ليس لديك أذونات تحرير
2. الملف محمي من التحرير
3. مستخدم آخر يحرر الملف حالياً

الحلول:
1. طلب أذونات إضافية من المالك
2. انتظار انتهاء المستخدم الآخر
3. إنشاء نسخة للتحرير
```

## 🚀 نصائح للاستخدام الأمثل

### تنظيم الملفات
```
📁 استخدم أسماء وصفية:
- "تقرير_الربع_الثالث_2024.pdf"
- "استراتيجية_الاستثمار_التكنولوجي.docx"
- "بيانات_السوق_نوفمبر_2024.csv"

🏷️ استخدم العلامات (Tags):
- #تقارير #ربعي #2024
- #استراتيجية #استثمار #تكنولوجيا
- #بيانات #سوق #شهري
```

### إدارة الخصوصية
```
🔒 للملفات الحساسة:
- استخدم "خاص" دائماً
- فعّل المصادقة الثنائية
- راجع سجل الوصول بانتظام

🌐 للملفات التعاونية:
- استخدم "عام" للوثائق المرجعية
- استخدم "مشاركة محدودة" للمشاريع
- حدد أذونات واضحة لكل مستخدم
```

### تحسين الأداء
```
⚡ لتحسين سرعة الوصول:
- استخدم أسماء ملفات قصيرة ووصفية
- تجنب رفع ملفات كبيرة جداً
- استخدم التصفية بدلاً من البحث العام
- احذف الملفات غير المستخدمة بانتظام
```

## 📚 أمثلة عملية

### مثال 1: مشاركة تقرير مع فريق العمل
```
1. رفع التقرير مع إعداد "مشاركة محدودة"
2. إضافة أعضاء الفريق مع أذونات "قراءة + تحميل"
3. إرسال إشعار للفريق
4. مراجعة سجل الوصول بعد أسبوع
```

### مثال 2: إنشاء مكتبة مرجعية عامة
```
1. رفع الوثائق المرجعية مع إعداد "عام"
2. تنظيم الملفات بأسماء وصفية
3. إضافة علامات للتصنيف
4. إنشاء دليل للمستخدمين الجدد
```

### مثال 3: حماية البيانات الحساسة
```
1. رفع البيانات مع إعداد "خاص"
2. تفعيل التشفير الإضافي
3. تحديد مهلة انتهاء صلاحية
4. مراجعة الأذونات شهرياً
```

## 🔄 التكامل مع نظام RAG

### استخدام الملفات في المحادثات
```
# في واجهة الدردشة، استخدم:
#اسم_الملف للإشارة لملف محدد
#* للبحث في جميع الملفات المتاحة
#عام للبحث في الملفات العامة فقط
#خاص للبحث في ملفاتك الخاصة
```

### إعدادات RAG للملفات
```
⚙️ إعدادات RAG:
- تضمين الملفات العامة: تلقائي
- تضمين الملفات الخاصة: بإذن المستخدم
- عمق البحث: سطحي، متوسط، عميق
- أولوية النتائج: حسب الصلة، حسب التاريخ، حسب المصدر
```

---

## 📞 الدعم والمساعدة

للحصول على مساعدة إضافية حول مكتبة الملفات:

- **📖 الوثائق الكاملة**: [docs.invai.com/library](https://docs.invai.com/library)
- **🎥 فيديوهات تعليمية**: [tutorials.invai.com](https://tutorials.invai.com)
- **💬 الدعم المباشر**: [support@invai.com](mailto:support@invai.com)
- **📱 مجتمع المستخدمين**: [community.invai.com](https://community.invai.com)

---

*تم تطوير نظام مكتبة الملفات المحسنة كجزء من منصة INVAI لضمان أعلى مستويات الأمان والخصوصية لبيانات الاستثمار.*

**آخر تحديث: ديسمبر 2024**