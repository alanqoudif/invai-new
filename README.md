# INVAI - منصة الذكاء الاصطناعي للاستثمار 🤖

![GitHub stars](https://img.shields.io/github/stars/open-webui/open-webui?style=social)
[![Discord](https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&logoColor=white)](https://discord.gg/5rJgQTnV4s)

## 📋 جدول المحتويات

- [ما هو INVAI؟](#ما-هو-invai)
- [لماذا تحتاج INVAI؟](#لماذا-تحتاج-invai)
- [قبل أن تبدأ](#قبل-أن-تبدأ)
- [فيديوهات تعليمية سريعة](#فيديوهات-تعليمية-سريعة)
- [طريقة التثبيت السريع](#طريقة-التثبيت-السريع)
- [طريقة التثبيت المتقدم](#طريقة-التثبيت-المتقدم)
- [إعداد الذكاء الاصطناعي](#إعداد-الذكاء-الاصطناعي)
- [اختبار سريع](#اختبار-سريع)
- [أسئلة شائعة](#أسئلة-شائعة)
- [إزالة البرنامج](#إزالة-البرنامج)
- [الحصول على المساعدة](#الحصول-على-المساعدة)

---

## ما هو INVAI؟

**INVAI** هو مساعد ذكي للاستثمار يعمل بالذكاء الاصطناعي. يساعدك في تحليل الاستثمارات وتقديم النصائح المالية باللغة العربية.

**ببساطة**: تخيل أن لديك خبير استثماري شخصي متاح 24/7 يفهم العربية ويجيب على أسئلتك المالية فوراً.

**مخصص حصرياً لمنصة Invast Oman** 🇴🇲

---

## لماذا تحتاج INVAI؟

✅ **سهل الاستخدام**: لا تحتاج خبرة تقنية  
✅ **يتكلم العربية**: واجهة ومحادثات باللغة العربية  
✅ **آمن ومحمي**: بياناتك تبقى في جهازك  
✅ **مجاني**: لا توجد رسوم شهرية  
✅ **يعمل بدون إنترنت**: بعد التثبيت الأولي  

---

## قبل أن تبدأ

> ⚠️ **مهم**: تأكد من توفر هذه المتطلبات قبل البدء

### 🖥️ متطلبات الجهاز
- **نظام التشغيل**: Windows 10+، macOS 10.15+، أو Linux
- **الذاكرة (RAM)**: 8 جيجابايت كحد أدنى (16 جيجابايت مُوصى به)
- **مساحة التخزين**: 20 جيجابايت فارغة
- **الإنترنت**: للتحميل الأولي فقط

### 📥 البرامج المطلوبة

| البرنامج | الغرض | رابط التحميل الرسمي |
|---------|-------|---------------------|
| **Docker** (دوكر) | لتشغيل البرنامج بسهولة | [docker.com](https://www.docker.com/get-started) |
| **Git** (جت) | لتحميل ملفات المشروع | [git-scm.com](https://git-scm.com/downloads) |

> 💡 **ملاحظة**: Docker هو برنامج يسمح بتشغيل التطبيقات في "حاويات" معزولة، مما يجعل التثبيت أسهل وأكثر أماناً.

### ⏱️ الوقت المطلوب
- **التحضير**: 15 دقيقة
- **التثبيت**: 30 دقيقة
- **الإعداد الأولي**: 15 دقيقة
- **المجموع**: حوالي ساعة واحدة

---

## 🌐 جرب المنصة مباشرة (بدون تثبيت)

> **🚀 تريد تجربة سريعة؟** ادخل على المنصة مباشرة!

### 🔗 الرابط المباشر
**[🌟 ادخل على INVAI مباشرة](http://62.72.23.243:8080/)**

### 🔑 بيانات تسجيل الدخول
```
اسم المستخدم: ankaa@ankaa.com
كلمة المرور: ankaa@ankaa.com
```

**مميزات التجربة المباشرة:**
- ✅ لا يحتاج تثبيت أو إعداد
- ✅ جاهز للاستخدام فوراً
- ✅ نفس الميزات الكاملة
- ✅ آمن ومحمي
- ✅ حساب تجريبي جاهز للاستخدام

> **💡 ملاحظة**: إذا أردت نسخة خاصة بك على جهازك، تابع خطوات التثبيت أدناه

---

## 🎥 فيديوهات تعليمية سريعة

> **🎯 ابدأ من هنا**: شاهد هذه الفيديوهات قبل التثبيت لفهم ما ستحصل عليه

### 📹 الفيديو الأول: مقدمة للمبتدئين (10 دقائق)
**ما ستتعلمه**: فهم أساسيات INVAI وكيف يعمل

<div align="center">
  <a href="https://www.youtube.com/watch?v=eTNDgxoSqvk" target="_blank">
    <img src="https://img.youtube.com/vi/eTNDgxoSqvk/maxresdefault.jpg" alt="شرح تشغيل منصة INVAI - الجزء الأول" width="500" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
  </a>
</div>

### 📹 الفيديو الثاني: خطوات التثبيت العملية (15 دقيقة)
**ما ستتعلمه**: تثبيت وتشغيل INVAI خطوة بخطوة

<div align="center">
  <a href="https://youtu.be/iKPD3vlMMb4" target="_blank">
    <img src="https://img.youtube.com/vi/iKPD3vlMMb4/maxresdefault.jpg" alt="شرح تشغيل منصة INVAI - الجزء الثاني" width="500" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
  </a>
</div>

<div align="center">
  <strong>👆 اضغط على أي صورة لمشاهدة الفيديو على يوتيوب (YouTube)</strong>
</div>

> 💡 **نصيحة**: شاهد الفيديو الأول كاملاً قبل البدء في التثبيت

---

## 🐳 صور Docker المتوفرة

> **📦 اختر الصورة المناسبة لمعمارية جهازك**

### صور INVAI المخصصة

| المعمارية | الإصدار | الحجم | الأمر |
|-----------|---------|-------|-------|
| **Intel/AMD (x64)** | `0.6.18-amd64` | 2.31 GB | `docker pull faisalanqoudi/open-webui-custom:0.6.18-amd64` |
| **Apple Silicon (M1/M2)** | `0.6.18` | 2.17 GB | `docker pull faisalanqoudi/open-webui-custom:0.6.18` |

**معلومات الإصدار:**
- 🕐 **آخر تحديث**: منذ ساعة واحدة
- 👤 **المطور**: faisalanqoudi
- ✅ **الحالة**: مستقر وجاهز للإنتاج
- 🔧 **مُحسن لـ**: Invast Oman

### كيفية اختيار الصورة المناسبة

**لأجهزة Intel/AMD:**
```bash
docker pull faisalanqoudi/open-webui-custom:0.6.18-amd64
```

**لأجهزة Apple Silicon (M1/M2/M3):**
```bash
docker pull faisalanqoudi/open-webui-custom:0.6.18
```

> **💡 نصيحة**: إذا لم تكن متأكداً من نوع المعالج، جرب الأمر الأول

---

## 🚀 طريقة التثبيت السريع

> **🎯 للمبتدئين**: هذه الطريقة الأسهل والأسرع (30 دقيقة)

### ما ستحصل عليه في النهاية؟
بعد إكمال هذه الخطوات، ستحصل على:
- ✅ مساعد ذكي للاستثمار يعمل في المتصفح
- ✅ واجهة عربية سهلة الاستخدام
- ✅ إمكانية طرح أسئلة استثمارية والحصول على إجابات فورية
- ✅ نظام آمن ومحمي لبياناتك

### الخطوات (مرقمة ومبسطة)

#### الخطوة 1: تحميل صورة البرنامج

**للأجهزة Intel/AMD:**
```bash
docker pull faisalanqoudi/open-webui-custom:0.6.18-amd64
```

**للأجهزة Apple Silicon:**
```bash
docker pull faisalanqoudi/open-webui-custom:0.6.18
```

#### الخطوة 2: تشغيل البرنامج

**للأجهزة Intel/AMD:**
```bash
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  --restart always \
  faisalanqoudi/open-webui-custom:0.6.18-amd64
```

**للأجهزة Apple Silicon:**
```bash
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  --restart always \
  faisalanqoudi/open-webui-custom:0.6.18
```

#### الخطوة 3: فتح البرنامج
افتح المتصفح واذهب إلى هذا العنوان:
```
http://localhost:3000
```

> ✅ **تهانينا!** إذا ظهرت لك صفحة INVAI، فقد نجح التثبيت

---

## 💻 طريقة التثبيت المتقدم

> **👨‍💻 للمطورين**: إذا كنت تريد تعديل البرنامج أو المساهمة في تطويره

### الخطوة 1: تحميل ملفات المشروع
هذا الأمر ينسخ جميع ملفات المشروع إلى جهازك:
```bash
git clone https://github.com/alanqoudif/invai-new.git
cd invai-new
```

### الخطوة 2: تثبيت أدوات الواجهة الأمامية
هذا الأمر يثبت الأدوات اللازمة لتشغيل واجهة المستخدم:
```bash
npm install
```

### الخطوة 3: إعداد الخادم الخلفي
هذه الأوامر تحضر البيئة الخلفية للبرنامج:
```bash
cd backend
python -m venv venv
```

### الخطوة 4: تفعيل البيئة الافتراضية
**على نظام ماك أو لينكس:**
```bash
source venv/bin/activate
```

**على نظام ويندوز:**
```bash
venv\Scripts\activate
```

### الخطوة 5: تثبيت مكتبات البايثون
```bash
pip install -r requirements.txt
```

### الخطوة 6: تشغيل البرنامج
ارجع للمجلد الرئيسي وشغل البرنامج:
```bash
cd ..
npm run dev
```

### الخطوة 7: فتح البرنامج
افتح المتصفح واذهب إلى:
```
http://localhost:5173
```

---

## 🧠 System Prompt الكامل لـ InvAI

> **🎯 هذا هو النظام الذكي المدمج في INVAI لمنصة Invast Oman**

### نسخ System Prompt
```
You are **InvAI** — the intelligent investment assistant for the **Invast Oman** platform.

Core Principles (Non-Negotiable Rules):
1. You operate strictly with **Retrieval-Augmented Generation (RAG)**.
2. You may **ONLY** use Invast Oman's internal data — no external knowledge, no guessing, no fabricated information.
3. If the retrieved Invast Oman data partially matches the request, provide the best possible detailed answer using ONLY that data.
   If no relevant information is found in the retrieved data after rephrasing the query and retrying once in both Arabic and English, reply exactly:
   "No sufficient information in Invast Oman data for this request."
4. Detect the user's language (Arabic or English) and answer entirely in that language.

Answer Structure:
5. Provide a **highly detailed** and **well-structured** answer with deep explanations.
6. Always include **inline internal citations** in the format:
   `[Sector Name, p. X]` (Example: `[Logistics Sector, p. 5]`).
7. End every answer with a **Summary** section — concise, bullet-point format.

Special Rule for Numbers:
8. If your drafted answer contains **3 or more** distinct numbers, ranges, dates, or percentages:
   - After the detailed answer and before the Summary, append this offer in the user's language:
     - Arabic: **"إذا تحبّ، أجمع لك المثال أعلاه في كود صفحة HTML/CSS بسيط لعرض التعريفات والمراحل والجداول تفاعليًا، أو أدرج رسمًا بيانيًا يوضّح التدفق. بس علمني وش تفضّل!"**
     - English: **"If you'd like, I can turn this into a simple HTML/CSS page with interactive definitions, steps, and tables, or include a flow diagram—just tell me which you prefer!"**

Triggers (Auto Actions — No Confirmation Needed):
9. **Table Triggers**:
   - Arabic: "جدول", "اعمل جدول", "سجّلها بجدول"
   - English: "table"
   → Output a **clean, well-formatted table** with headers, units, and sources.

10. **Conceptual/Page Triggers**:
    - Arabic: "نظري", "عرض نظري", "صفحة", "صفحة HTML", "اعمل صفحة"
    - English: "conceptual", "concept page", "HTML page"
    → Output a **minimal, standalone HTML/CSS snippet** that:
       - Includes a title header
       - Has a "Definitions" section for key terms
       - Lists numbered stages/steps
       - Contains a data table block
       - Includes an optional simple flow/diagram placeholder
       - Is responsive and RTL-friendly (no external libraries unless explicitly requested)

11. If the user replies "نعم/إيه/Yes" to the HTML/Concept/Table offer:
    - Ask once: **"جدول أو عرض نظري (HTML/CSS)؟ / Table or conceptual HTML page?"**

Style & Tone:
12. Professional, precise, and clear.
13. Avoid unnecessary verbosity; keep units, formats, and citations consistent.
14. Ensure all outputs are cleanly formatted for easy readability.
```

### كيفية استخدام System Prompt
1. **في INVAI**: اذهب إلى الإعدادات → Models → System Prompt
2. **انسخ النص أعلاه** والصقه في خانة System Prompt
3. **احفظ الإعدادات**

### مميزات هذا النظام
- 🎯 **مخصص لـ Invast Oman**: يعمل فقط مع بيانات الشركة
- 🔍 **RAG متقدم**: يسترجع المعلومات بدقة عالية
- 🌐 **ثنائي اللغة**: عربي وإنجليزي تلقائياً
- 📊 **جداول تفاعلية**: ينشئ جداول وصفحات HTML عند الحاجة
- 📝 **مراجع دقيقة**: يذكر مصدر كل معلومة

---

## 🧠 إعداد الذكاء الاصطناعي

> **🎯 مهم**: بدون هذه الخطوة، لن يعمل المساعد الذكي

### ما هو Ollama؟
**Ollama** (أولاما) هو برنامج يشغل نماذج الذكاء الاصطناعي على جهازك بدلاً من الإنترنت. هذا يعني:
- ✅ خصوصية أكبر (بياناتك لا تخرج من جهازك)
- ✅ سرعة أفضل (لا يحتاج إنترنت بعد التثبيت)
- ✅ مجاني تماماً (لا توجد رسوم شهرية)

### خطوات تثبيت Ollama

#### الخطوة 1: تحميل Ollama
**على نظام ماك:**
```bash
brew install ollama
```

**على نظام ويندوز أو لينكس:**
1. اذهب إلى [ollama.com](https://ollama.com/download)
2. حمل المثبت المناسب لنظامك
3. شغل الملف واتبع التعليمات

#### الخطوة 2: تشغيل خدمة Ollama
هذا الأمر يشغل Ollama في الخلفية:
```bash
ollama serve
```

#### الخطوة 3: تحميل النموذج الذكي
هذا الأمر يحمل النموذج الذكي المخصص للعربية:
```bash
ollama pull qwen2.5:8b-instruct
```

> ⏱️ **ملاحظة**: تحميل النموذج قد يستغرق 10-15 دقيقة حسب سرعة الإنترنت

#### الخطوة 4: اختبار النموذج
تأكد أن النموذج يعمل بهذا الأمر:
```bash
ollama run qwen2.5:8b-instruct "مرحباً، كيف يمكنني مساعدتك؟"
```

### ربط Ollama بـ INVAI

1. **افتح INVAI** في المتصفح (http://localhost:3000)
2. **سجل دخولك** أو أنشئ حساباً جديداً
3. اذهب إلى **⚙️ الإعدادات** (Settings)
4. اختر **🤖 النماذج** (Models)
5. في قسم **Ollama API**:
   - **عنوان الخادم**: `http://localhost:11434`
   - **مهلة الاتصال**: `120` ثانية
6. انقر **💾 حفظ**
7. في واجهة الدردشة، اختر `qwen2.5:8b-instruct` من قائمة النماذج

---

## 🧪 اختبار سريع

> **🎯 تأكد أن كل شيء يعمل بشكل صحيح**

### اختبار أساسي (5 دقائق)

1. **افتح INVAI** في المتصفح
2. **تأكد من اختيار النموذج** `qwen2.5:8b-instruct`
3. **اكتب هذا السؤال**:
   ```
   مرحباً، أريد نصيحة استثمارية بسيطة للمبتدئين
   ```
4. **انتظر الرد** (قد يستغرق 10-30 ثانية في المرة الأولى)

### النتيجة المتوقعة
إذا كان كل شيء يعمل، ستحصل على:
- ✅ رد باللغة العربية
- ✅ نصائح استثمارية مفيدة
- ✅ أسلوب مهذب ومهني

### إذا لم يعمل الاختبار
- 🔍 تأكد أن Ollama يعمل: `ollama list`
- 🔍 تأكد أن النموذج محمل: يجب أن ترى `qwen2.5:8b-instruct`
- 🔍 تأكد من إعدادات الاتصال في INVAI

---

## ❓ أسئلة شائعة

### 🤔 السؤال الأول: "البرنامج لا يفتح"
**الحل**: تأكد أن Docker يعمل على جهازك:
```bash
docker --version
```
إذا لم يعمل، أعد تشغيل Docker أو أعد تثبيته.

### 🤔 السؤال الثاني: "المساعد الذكي لا يرد"
**الحل**: تأكد أن Ollama يعمل:
```bash
ollama list
```
إذا كانت القائمة فارغة، أعد تحميل النموذج:
```bash
ollama pull qwen2.5:8b-instruct
```

### 🤔 السؤال الثالث: "الردود بطيئة جداً"
**الحل**: هذا طبيعي في البداية. لتحسين السرعة:
- تأكد أن لديك 16 جيجابايت RAM أو أكثر
- أغلق البرامج الأخرى أثناء الاستخدام
- استخدم نموذج أصغر إذا كان جهازك بطيئاً:
```bash
ollama pull qwen2.5:3b-instruct
```

---

## 🗑️ إزالة البرنامج

> **🛡️ لا تخف من التجربة**: يمكنك إزالة كل شيء بسهولة

### إزالة INVAI
```bash
# إيقاف وحذف الحاوية
docker stop invai-platform
docker rm invai-platform

# حذف البيانات المحفوظة (اختياري)
docker volume rm open-webui
```

### إزالة Ollama والنماذج
```bash
# حذف النماذج
ollama rm qwen2.5:8b-instruct

# إزالة Ollama (على ماك)
brew uninstall ollama

# إزالة Ollama (على ويندوز)
# استخدم "إضافة أو إزالة البرامج" من لوحة التحكم
```

### إزالة Docker (إذا كنت لا تحتاجه)
- **على ماك**: `brew uninstall docker`
- **على ويندوز**: استخدم "إضافة أو إزالة البرامج"
- **على لينكس**: `sudo apt remove docker` أو `sudo yum remove docker`

---

## 🐛 الإبلاغ عن مشكلة (سهل وسريع)

> **🎯 واجهت مشكلة؟** لا تقلق! استخدم القالب الجاهز للإبلاغ

### استخدم القالب الجاهز
**[📝 أبلغ عن مشكلة باستخدام القالب](https://github.com/alanqoudif/invai-new/issues/new?template=bug_report.md)**

القالب سيساعدك في:
- ✅ وصف المشكلة بوضوح
- ✅ تقديم المعلومات المطلوبة
- ✅ الحصول على حل أسرع

### أو أبلغ بطريقتك
**[🆓 إبلاغ حر عن مشكلة](https://github.com/alanqoudif/invai-new/issues/new)**

---

## 💬 الحصول على المساعدة

### 🤝 نحن هنا لمساعدتك!

> **💝 مرحباً بك!** لا تتردد في طرح أي سؤال، مهما كان بسيطاً. كلنا بدأنا من الصفر!

### طرق التواصل السريعة

| الطريقة | الوصف | الرابط |
|---------|--------|--------|
| 📧 **البريد الإلكتروني** | للأسئلة التفصيلية والدعم الفني | [support@invast-oman.com](mailto:support@invast-oman.com) |
| 💬 **Discord** | للدردشة المباشرة مع المجتمع | [انضم لمجتمعنا](https://discord.gg/5rJgQTnV4s) |
| 🐛 **GitHub Issues** | للإبلاغ عن الأخطاء والاقتراحات | [أبلغ عن مشكلة](https://github.com/alanqoudif/invai-new/issues) |
| 📖 **الوثائق** | دليل شامل ومفصل | [docs.openwebui.com](https://docs.openwebui.com/) |

### 🎯 نصائح للحصول على مساعدة سريعة

1. **📝 وصف واضح**: "لا يعمل" ← "عند النقر على زر التشغيل، تظهر رسالة خطأ"
2. **📸 لقطة شاشة**: صورة واحدة تغني عن ألف كلمة
3. **💻 نظام التشغيل**: Windows 11, macOS Sonoma, Ubuntu 22.04...
4. **🔴 رسالة الخطأ**: انسخ النص كاملاً (Ctrl+C / Cmd+C)
5. **👣 الخطوات**: ماذا فعلت قبل ظهور المشكلة؟

### 🌟 أمثلة على أسئلة نرحب بها

- ❓ "كيف أثبت Docker على Windows؟"
- ❓ "المنصة لا تفتح، ماذا أفعل؟"
- ❓ "هل يمكنني استخدام INVAI بدون إنترنت؟"
- ❓ "كيف أضيف ملفات PDF للمساعد الذكي؟"
- ❓ "ما هو أفضل نموذج ذكاء اصطناعي للاستخدام؟"

> **🎉 تذكر**: لا يوجد سؤال "غبي"! كل خبير كان مبتدئاً يوماً ما.

### مجتمع المطورين

إذا كنت مطوراً وتريد المساهمة:
- 📖 **دليل المساهمة**: [CONTRIBUTING.md](./CONTRIBUTING.md)
- 🔧 **مشاكل للمبتدئين**: ابحث عن تسمية "good first issue"
- 💡 **أفكار جديدة**: شاركنا اقتراحاتك في قسم Discussions

---

## 🙏 شكر خاص

**شكراً لك لاختيار INVAI!** 🎉

نحن فخورون بأن نكون جزءاً من رحلتك في عالم الذكاء الاصطناعي. مساهمتك في تجربة المنصة وتقديم الملاحظات تساعدنا في التطوير المستمر.

### 🌟 ساعد في تطوير INVAI
- ⭐ **ضع نجمة للمشروع** على [GitHub](https://github.com/alanqoudif/invai-new)
- 🐛 **أبلغ عن الأخطاء** لتحسين التجربة
- 💡 **اقترح ميزات جديدة** نحب الأفكار الإبداعية
- 📢 **شارك مع الأصدقاء** انشر الفائدة

---

**🎉 شكراً لاستخدام INVAI! نتمنى لك تجربة استثمارية ممتعة ومفيدة.**

---

## 📊 كيف يعمل INVAI؟ (رسم توضيحي)

<div align="center">

```svg
<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="600" height="400" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2" rx="10"/>
  
  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#2c3e50">مسار عمل منصة INVAI</text>
  
  <!-- Step 1: User Input -->
  <rect x="50" y="60" width="120" height="60" fill="#3498db" rx="10"/>
  <text x="110" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="white">1. المستخدم</text>
  <text x="110" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="white">يطرح سؤال</text>
  
  <!-- Arrow 1 -->
  <path d="M170 90 L220 90" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: AI Processing -->
  <rect x="230" y="60" width="120" height="60" fill="#e74c3c" rx="10"/>
  <text x="290" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="white">2. الذكاء الاصطناعي</text>
  <text x="290" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="white">يحلل السؤال</text>
  
  <!-- Arrow 2 -->
  <path d="M350 90 L400 90" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Response -->
  <rect x="410" y="60" width="120" height="60" fill="#27ae60" rx="10"/>
  <text x="470" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="white">3. إجابة ذكية</text>
  <text x="470" y="100" text-anchor="middle" font-family="Arial" font-size="12" fill="white">ومفيدة</text>
  
  <!-- Docker Container -->
  <rect x="100" y="180" width="400" height="120" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2" rx="10"/>
  <text x="300" y="200" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#2c3e50">حاوي Docker (البيئة المعزولة)</text>
  
  <!-- Components inside Docker -->
  <rect x="120" y="220" width="100" height="40" fill="#9b59b6" rx="5"/>
  <text x="170" y="245" text-anchor="middle" font-family="Arial" font-size="10" fill="white">واجهة الويب</text>
  
  <rect x="250" y="220" width="100" height="40" fill="#f39c12" rx="5"/>
  <text x="300" y="245" text-anchor="middle" font-family="Arial" font-size="10" fill="white">قاعدة البيانات</text>
  
  <rect x="380" y="220" width="100" height="40" fill="#1abc9c" rx="5"/>
  <text x="430" y="245" text-anchor="middle" font-family="Arial" font-size="10" fill="white">نموذج الذكاء</text>
  
  <!-- Time indicators -->
  <text x="110" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">فوري</text>
  <text x="290" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">2-5 ثواني</text>
  <text x="470" y="140" text-anchor="middle" font-family="Arial" font-size="10" fill="#7f8c8d">فوري</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
  
  <!-- Bottom note -->
  <text x="300" y="350" text-anchor="middle" font-family="Arial" font-size="12" fill="#7f8c8d">✨ كل شيء يعمل على جهازك بأمان تام</text>
</svg>
```

</div>

---

## 🌟 ميزات إضافية متقدمة

> **🎓 للمستخدمين المتقدمين**: هذه الميزات اختيارية ولكنها مفيدة

### 📚 إضافة ملفات المعرفة
يمكنك رفع ملفات PDF أو Word لتدريب المساعد الذكي على معلومات خاصة:

1. اذهب إلى **🏢 Workspace** → **📚 Knowledge**
2. انقر **➕ إنشاء مجموعة**
3. ارفع ملفاتك (PDF, DOCX, TXT)
4. اربط المجموعة بالنموذج في الإعدادات

### ⚙️ تخصيص سلوك المساعد
يمكنك تعديل طريقة رد المساعد:

1. اذهب إلى **🤖 Models** → اختر النموذج
2. في حقل **System Prompt**، اكتب تعليمات مثل:
   ```
   أنت مساعد استثماري مختص في السوق العماني.
   اجب دائماً باللغة العربية وكن مهذباً ومفيداً.
   ```

### 🔧 إعدادات الأداء
لتحسين سرعة الردود:
- **Temperature**: 0.7 (للتوازن بين الدقة والإبداع)
- **Max Tokens**: 4096 (طول الرد الأقصى)
- **Context Length**: 8192 (ذاكرة المحادثة)

---

## 🔧 إعدادات متقدمة

### تحسين أداء Ollama

```bash
# زيادة حجم السياق للنموذج
ollama run qwen2.5:8b-instruct
# داخل الدردشة:
/set parameter num_ctx 8192
/set parameter temperature 0.7
/set parameter top_p 0.9
```

### إعدادات Docker المتقدمة

#### مع دعم GPU
```bash
docker run -d -p 3000:8080 \
  --gpus all \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  -e OLLAMA_BASE_URL=http://host.docker.internal:11434 \
  -e WEBUI_SECRET_KEY="your-secret-key-here" \
  --restart always \
  faisalanqoudi/open-webui-custom:0.6.18
```

#### مع متغيرات البيئة المخصصة
```bash
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  -e OLLAMA_BASE_URL=http://host.docker.internal:11434 \
  -e DEFAULT_LOCALE=ar \
  -e ENABLE_RAG_WEB_SEARCH=true \
  -e RAG_WEB_SEARCH_ENGINE=duckduckgo \
  --restart always \
  faisalanqoudi/open-webui-custom:0.6.18
```

### استخدام Docker Compose

أنشئ ملف `docker-compose.yml`:

```yaml
version: '3.8'

services:
  invai:
    image: faisalanqoudi/open-webui-custom:0.6.18
    container_name: invai-platform
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data
    environment:
      - OLLAMA_BASE_URL=http://host.docker.internal:11434
      - DEFAULT_LOCALE=ar
      - ENABLE_RAG_WEB_SEARCH=true
    restart: always
    depends_on:
      - ollama

  ollama:
    image: ollama/ollama:latest
    container_name: ollama-server
    ports:
      - "11434:11434"
    volumes:
      - ollama:/root/.ollama
    restart: always

volumes:
  open-webui:
  ollama:
```

ثم شغّل:
```bash
docker-compose up -d
```

---

## 🌐 المنافذ والشبكات

### المنافذ المستخدمة
- **3000**: منصة INVAI (عبر Docker)
- **5173**: منصة INVAI (التشغيل المحلي)
- **8080**: المنفذ الداخلي للحاوية
- **11434**: خدمة Ollama API

### إعدادات الشبكة
```bash
# للوصول من الشبكة المحلية
docker run -d -p 0.0.0.0:3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18

# مع تقييد الوصول لـ localhost فقط
docker run -d -p 127.0.0.1:3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18
```

---

## 📋 متطلبات النظام

### الحد الأدنى
- **المعالج**: 4 أنوية (Intel i5 أو AMD Ryzen 5)
- **الذاكرة**: 8 جيجابايت RAM
- **التخزين**: 20 جيجابايت مساحة فارغة
- **نظام التشغيل**: Linux, macOS 10.15+, Windows 10+
- **الشبكة**: اتصال إنترنت لتحميل النماذج

### المُوصى به
- **المعالج**: 8 أنوية أو أكثر (Intel i7/i9 أو AMD Ryzen 7/9)
- **الذاكرة**: 16 جيجابايت RAM أو أكثر
- **كرت الرسوميات**: GPU مع 8+ جيجابايت VRAM (NVIDIA RTX 3070 أو أفضل)
- **التخزين**: SSD مع 50+ جيجابايت مساحة فارغة
- **الشبكة**: اتصال سريع (100+ Mbps)

### متطلبات النماذج
- **Qwen 2.5 8B**: 6-8 جيجابايت RAM
- **Qwen 2.5 14B**: 10-12 جيجابايت RAM
- **Qwen 2.5 32B**: 24-32 جيجابايت RAM

---

## 🔍 استكشاف الأخطاء وحلها

### مشاكل الاتصال بـ Ollama

#### المشكلة: "Connection refused" أو "Server not found"
```bash
# 1. تحقق من حالة Ollama
ollama list

# 2. إعادة تشغيل الخدمة
ollama serve

# 3. تحقق من المنفذ
netstat -an | grep 11434

# 4. اختبار الاتصال
curl http://localhost:11434/api/tags
```

#### المشكلة: Ollama يعمل لكن INVAI لا يتصل
```bash
# تأكد من إعداد متغير البيئة
export OLLAMA_HOST=0.0.0.0:11434
ollama serve

# أو استخدم Docker مع host networking
docker run -d --network=host \
  -v open-webui:/app/backend/data \
  --name invai-platform \
  faisalanqoudi/open-webui-custom:0.6.18
```

### مشاكل تحميل النماذج

#### المشكلة: فشل في تحميل النموذج
```bash
# 1. حذف النموذج المعطوب
ollama rm qwen2.5:8b-instruct

# 2. تنظيف الذاكرة المؤقتة
ollama prune

# 3. إعادة تحميل النموذج
ollama pull qwen2.5:8b-instruct

# 4. التحقق من المساحة المتاحة
df -h
```

#### المشكلة: النموذج بطيء جداً
```bash
# تحسين إعدادات النموذج
ollama run qwen2.5:8b-instruct
/set parameter num_thread 8
/set parameter num_gpu 1
/set parameter num_ctx 4096
```

### مشاكل Docker

#### المشكلة: الحاوية لا تبدأ
```bash
# 1. عرض سجلات الحاوية
docker logs invai-platform

# 2. التحقق من حالة الحاوية
docker ps -a

# 3. إعادة تشغيل الحاوية
docker restart invai-platform

# 4. حذف وإعادة إنشاء الحاوية
docker rm -f invai-platform
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18
```

#### المشكلة: فقدان البيانات بعد إعادة التشغيل
```bash
# تأكد من ربط المجلد بشكل صحيح
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v $(pwd)/data:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18

# أو استخدم named volume
docker volume create invai-data
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v invai-data:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18
```

### مشاكل الأداء

#### المشكلة: استجابة بطيئة
```bash
# 1. زيادة موارد Docker
docker update --memory=8g --cpus=4 invai-platform

# 2. تحسين إعدادات Ollama
export OLLAMA_NUM_PARALLEL=2
export OLLAMA_MAX_LOADED_MODELS=2
ollama serve

# 3. استخدام GPU إذا كان متاحاً
docker run -d -p 3000:8080 \
  --gpus all \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  faisalanqoudi/open-webui-custom:0.6.18
```

### مشاكل نظام RAG

#### المشكلة: لا يجد المعلومات في الملفات المرفوعة
1. **تحقق من معالجة الملفات**:
   - انتقل إلى Knowledge → تأكد من ✅ بجانب الملفات
   - أعد رفع الملفات إذا لزم الأمر

2. **اضبط إعدادات البحث**:
   - قلل Similarity Threshold إلى `0.5`
   - زد عدد النتائج المسترجعة

3. **تحسين جودة الملفات**:
   - استخدم ملفات PDF نصية (ليس صور)
   - تأكد من وضوح النصوص
   - قسّم الملفات الكبيرة

---

## 🔐 الأمان والخصوصية

### ميزات الأمان
- **🔒 تشفير البيانات**: جميع البيانات مشفرة أثناء النقل والتخزين
- **🚫 عدم مشاركة البيانات**: لا يتم إرسال أي بيانات لخوادم خارجية
- **👥 التحكم في الوصول**: نظام أذونات متقدم للمستخدمين والمجموعات
- **📊 سجلات الأمان**: تتبع كامل لجميع العمليات والوصول
- **🛡️ حماية API**: حماية على مستوى API مع rate limiting

### إعدادات الخصوصية
```bash
# تشغيل في وضع offline كامل
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  -e HF_HUB_OFFLINE=1 \
  -e ENABLE_COMMUNITY_SHARING=false \
  --network none \
  faisalanqoudi/open-webui-custom:0.6.18
```

### نصائح الأمان
1. **استخدم كلمات مرور قوية** للحسابات
2. **فعّل المصادقة الثنائية** إذا كانت متاحة
3. **حدّث النظام بانتظام** للحصول على آخر التحديثات الأمنية
4. **راقب سجلات الوصول** بانتظام
5. **استخدم HTTPS** في البيئات الإنتاجية

---

## 🤝 المساهمة في المشروع

### إعداد بيئة التطوير

```bash
# 1. استنساخ المشروع
git clone https://github.com/alanqoudif/invai-new.git
cd invai-new

# 2. إنشاء فرع جديد
git checkout -b feature/new-feature

# 3. تثبيت التبعيات
npm install
cd backend && pip install -r requirements.txt

# 4. تشغيل الاختبارات
npm test
pytest backend/tests/

# 5. تشغيل الخادم للتطوير
npm run dev
```

### إرشادات المساهمة

1. **اتبع معايير الكود**: استخدم Prettier و ESLint
2. **اكتب اختبارات**: لكل ميزة جديدة
3. **وثّق التغييرات**: في ملف CHANGELOG.md
4. **استخدم commit messages واضحة**:
   ```
   feat: إضافة ميزة البحث المتقدم
   fix: إصلاح مشكلة في تحميل الملفات
   docs: تحديث دليل التثبيت
   ```

### إرسال التحديثات

```bash
# 1. إضافة التغييرات
git add .
git commit -m "feat: وصف التحديث بوضوح"

# 2. رفع التحديثات
git push origin feature/new-feature

# 3. إنشاء Pull Request
# انتقل إلى GitHub وأنشئ PR
```

## 📞 الدعم والمساعدة

### قنوات الدعم
- **📖 الوثائق الرسمية**: [docs.openwebui.com](https://docs.openwebui.com/)
- **💬 مجتمع Discord**: [Open WebUI Discord](https://discord.gg/5rJgQTnV4s)
- **🐛 الإبلاغ عن المشاكل**: [GitHub Issues](https://github.com/alanqoudif/invai-new/issues)
- **📧 البريد الإلكتروني**: support@invai.com
- **📱 التليجرام**: @invai_support

### الأسئلة الشائعة (FAQ)

**س: هل يمكن استخدام INVAI بدون إنترنت؟**
ج: نعم، بعد تحميل النماذج، يمكن تشغيل المنصة بالكامل offline.

**س: ما هو الحد الأقصى لحجم الملفات المرفوعة؟**
ج: الحد الافتراضي هو 100 ميجابايت، يمكن زيادته في الإعدادات.

**س: هل تدعم المنصة اللغات الأخرى غير العربية؟**
ج: نعم، تدعم المنصة أكثر من 30 لغة مع تركيز خاص على العربية.

**س: كيف يمكنني نسخ احتياطي من البيانات؟**
ج: استخدم `docker cp` لنسخ مجلد البيانات أو استخدم volume backup.

---

## 🚀 التحديثات والصيانة

### تحديث المنصة

```bash
# 1. إيقاف الحاوية الحالية
docker stop invai-platform

# 2. سحب أحدث إصدار
docker pull faisalanqoudi/open-webui-custom:latest

# 3. حذف الحاوية القديمة
docker rm invai-platform

# 4. تشغيل الإصدار الجديد
docker run -d -p 3000:8080 \
  --name invai-platform \
  -v open-webui:/app/backend/data \
  --restart always \
  faisalanqoudi/open-webui-custom:latest
```

### تحديث تلقائي مع Watchtower

```bash
# تثبيت Watchtower للتحديث التلقائي
docker run -d \
  --name watchtower \
  -v /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower \
  --schedule "0 0 2 * * *" \
  invai-platform
```

### نسخ احتياطي للبيانات

```bash
# إنشاء نسخة احتياطية
docker run --rm \
  -v open-webui:/data \
  -v $(pwd):/backup \
  alpine tar czf /backup/invai-backup-$(date +%Y%m%d).tar.gz -C /data .

# استعادة النسخة الاحتياطية
docker run --rm \
  -v open-webui:/data \
  -v $(pwd):/backup \
  alpine tar xzf /backup/invai-backup-20241201.tar.gz -C /data
```

---

## 📊 المراقبة والتحليلات

### مراقبة الأداء

```bash
# مراقبة استخدام الموارد
docker stats invai-platform

# عرض سجلات النظام
docker logs -f invai-platform

# مراقبة استخدام القرص
docker system df
```

### إعداد Prometheus للمراقبة

```yaml
# docker-compose.monitoring.yml
version: '3.8'

services:
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml

  grafana:
    image: grafana/grafana
    ports:
      - "3001:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
```

---

## 📄 الترخيص والحقوق

هذا المشروع مرخص تحت **رخصة MIT المعدلة**. يمكنك:

✅ **الاستخدام التجاري والشخصي**
✅ **التعديل والتطوير**
✅ **التوزيع**
✅ **الاستخدام في المشاريع المغلقة المصدر**

❗ **مع الحفاظ على**:
- إشعار حقوق الطبع والنشر
- نص الترخيص
- العلامة التجارية "INVAI" و "Open WebUI"

للتفاصيل الكاملة، راجع ملف [LICENSE](LICENSE).

---

## 🏆 الشكر والتقدير

### فريق التطوير
- **المطور الرئيسي**: فيصل الأنقودي
- **فريق Invast Oman**: للدعم والتوجيه
- **مجتمع Open WebUI**: للمنصة الأساسية الرائعة

### المساهمون
شكر خاص لجميع المساهمين في تطوير وتحسين المنصة:
- مطوري الواجهة الأمامية
- مطوري الخلفية
- مختبري النظام
- مترجمي المحتوى

### التقنيات المستخدمة
- **Frontend**: Svelte, TypeScript, Tailwind CSS
- **Backend**: Python, FastAPI, SQLAlchemy
- **AI Models**: Ollama, Qwen 2.5
- **Database**: SQLite/PostgreSQL
- **Containerization**: Docker, Docker Compose
- **Deployment**: Kubernetes, Helm

---

## 🌟 خارطة الطريق

### الإصدار القادم (v1.1)
- 🔍 **بحث متقدم** في قاعدة المعرفة
- 📊 **لوحة تحكم تحليلية** للاستثمارات
- 🤖 **نماذج AI متخصصة** لقطاعات مختلفة
- 🔗 **تكامل مع APIs خارجية** للبيانات المالية
- 📱 **تطبيق محمول** أصلي

### الإصدار المستقبلي (v2.0)
- 🧠 **ذكاء اصطناعي تنبؤي** للأسواق
- 🌐 **دعم متعدد المؤسسات**
- 🔐 **مصادقة متقدمة** (SSO, LDAP)
- 📈 **تحليلات في الوقت الفعلي**
- 🎯 **توصيات استثمارية ذكية**

---

## 💝 فريق التطوير

تم تطوير INVAI بواسطة فريق **NuqtaAI** مع ❤️ في **سلطنة عُمان** 🇴🇲

---

*آخر تحديث: ديسمبر 2024*

**للمزيد من المعلومات، تفضل بزيارة [موقعنا الرسمي](https://nuqtai.com) أو تواصل معنا عبر [البريد الإلكتروني](mailto:info@nuqtai.com)**
